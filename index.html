<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï½œãŸã“ç„¼ãèœã€…</title>
  <meta name="description" content="ãŸã“ç„¼ãèœã€…ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€‚ã‚¹ãƒãƒ›ã§è¦‹ã‚„ã™ã„æ­£æ–¹å½¢ã‚µãƒ ãƒãƒ»2åˆ—ã‚°ãƒªãƒƒãƒ‰ã§ã€å†™çœŸã¯ã‚¿ãƒƒãƒ—ã§å¤§ããè¡¨ç¤ºã§ãã¾ã™ã€‚" />

  <style>
    :root{
      /* ====== å’Œãƒ¢ãƒ€ãƒ³ / ã‚«ãƒ•ã‚§å¯„ã‚Šï¼ˆã‚¹ãƒãƒ›æœ€å„ªå…ˆï¼‰ ====== */
      --bg:#F6F2EC;
      --paper:#FFFDF8;
      --ink:#242424;
      --muted:rgba(36,36,36,.68);
      --line:#E7E0D6;
      --gold:#C6A86A;
      --shadow: 0 10px 24px rgba(0,0,0,.08);
      --radius: 16px;
      --radius2: 22px;

      --safeB: env(safe-area-inset-bottom);
      --safeT: env(safe-area-inset-top);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Noto Sans JP", "Hiragino Kaku Gothic ProN", "Yu Gothic", sans-serif;
      color: var(--ink);
      background:
        radial-gradient(900px 420px at 50% -120px, rgba(198,168,106,.18), transparent 55%),
        linear-gradient(180deg, #FBF8F2, var(--bg));
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    a{ color:inherit; text-decoration:none; }
    button{ font:inherit; }

    /* ===== Layout ===== */
    .wrap{
      width:min(980px, 100%);
      margin:0 auto;
      padding: 12px 12px calc(24px + var(--safeB));
    }

    /* ===== Header ===== */
    .hero{
      border:1px solid var(--line);
      border-radius: var(--radius2);
      background: linear-gradient(180deg, rgba(255,255,255,.82), rgba(255,255,255,.55));
      box-shadow: var(--shadow);
      padding: 14px 14px 12px;
      position:relative;
      overflow:hidden;
    }
    .hero::before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(520px 220px at 15% 10%, rgba(198,168,106,.18), transparent 55%),
        radial-gradient(520px 220px at 85% -10%, rgba(198,168,106,.10), transparent 55%);
      pointer-events:none;
    }
    .heroInner{ position:relative; display:flex; gap:10px; justify-content:space-between; align-items:flex-start; flex-wrap:wrap; }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 6px 10px;
      border-radius: 999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.72);
      font-size:12px;
      letter-spacing:.06em;
      color: rgba(36,36,36,.78);
      width:fit-content;
    }
    .dot{
      width:8px; height:8px; border-radius:99px;
      background: var(--gold);
      box-shadow: 0 0 0 4px rgba(198,168,106,.16);
    }
    h1{
      margin:8px 0 0;
      font-size: 18px;
      font-weight: 820;
      letter-spacing:.06em;
      line-height:1.2;
    }
    .sub{
      margin:6px 0 0;
      color: var(--muted);
      font-size: 12.5px;
      line-height:1.55;
    }

    .topBtns{
      display:flex; gap:8px; flex-wrap:wrap; align-items:center; justify-content:flex-end;
    }
    .btn{
      appearance:none;
      border:1px solid var(--line);
      background: rgba(255,255,255,.78);
      color: var(--ink);
      border-radius: 999px;
      padding: 9px 11px;
      font-weight: 760;
      letter-spacing:.04em;
      font-size: 12.5px;
      cursor:pointer;
      box-shadow: 0 8px 18px rgba(0,0,0,.06);
      transition: transform .06s ease, box-shadow .18s ease;
      display:inline-flex; align-items:center; gap:8px;
      user-select:none;
      white-space:nowrap;
    }
    .btn:active{ transform: translateY(1px); }
    .btn.primary{
      border-color: rgba(198,168,106,.55);
      background: linear-gradient(180deg, rgba(198,168,106,.26), rgba(198,168,106,.12));
    }

    /* ===== Sticky filter bar ===== */
    .stickyBar{
      position: sticky;
      top: 10px;
      top: calc(10px + var(--safeT));
      z-index: 50;
      margin-top: 12px;
      border:1px solid var(--line);
      border-radius: var(--radius2);
      background: rgba(255,255,255,.78);
      backdrop-filter: blur(8px);
      box-shadow: 0 10px 26px rgba(0,0,0,.08);
      padding: 10px 10px;
    }
    .barRow{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
    }
    .search{
      flex: 1 1 180px;
      display:flex;
      align-items:center;
      gap:8px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.86);
      border-radius: 999px;
      padding: 9px 12px;
      min-width: 180px;
    }
    .search input{
      border:0; outline:0;
      background:transparent;
      width:100%;
      font-size: 13px;
      color: var(--ink);
    }
    .chips{
      display:flex; gap:8px; flex-wrap:wrap;
    }
    .chip{
      border:1px solid var(--line);
      background: rgba(255,255,255,.86);
      border-radius: 999px;
      padding: 9px 11px;
      font-size: 12.5px;
      font-weight: 760;
      cursor:pointer;
      user-select:none;
      white-space:nowrap;
      transition: background .16s ease, transform .06s ease, border-color .16s ease;
    }
    .chip:active{ transform: translateY(1px); }
    .chip.on{
      border-color: rgba(198,168,106,.65);
      background: rgba(198,168,106,.18);
    }

    /* ===== Section ===== */
    .section{
      margin-top: 14px;
      border:1px solid var(--line);
      border-radius: var(--radius2);
      background: rgba(255,255,255,.58);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .sectionHead{
      padding: 12px 14px;
      border-bottom: 1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.86), rgba(255,255,255,.58));
      display:flex; justify-content:space-between; align-items:flex-end; gap:10px; flex-wrap:wrap;
    }
    .sectionTitle{
      margin:0;
      font-size: 15px;
      font-weight: 860;
      letter-spacing:.06em;
    }
    .sectionNote{
      margin:0;
      color: var(--muted);
      font-size: 12px;
      line-height:1.5;
    }

    /* ===== Grid (Mobile first) ===== */
    .grid{
      padding: 12px;
      display:grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
    }
    @media (min-width: 860px){
      .grid{ grid-template-columns: repeat(3, 1fr); gap: 12px; padding: 14px; }
      h1{ font-size: 20px; }
    }

    /* ===== Card (compact / square thumb) ===== */
    .card{
      background: var(--paper);
      border:1px solid var(--line);
      border-radius: var(--radius);
      overflow:hidden;
      box-shadow: 0 8px 18px rgba(0,0,0,.06);
      cursor:pointer;
      transition: transform .10s ease, box-shadow .18s ease;
      display:flex;
      flex-direction:column;
      min-height: 0;
    }
    .card:hover{ transform: translateY(-1px); box-shadow: 0 16px 42px rgba(0,0,0,.10); }

    .thumb{
      width:100%;
      aspect-ratio: 1 / 1;   /* âœ… æ­£æ–¹å½¢ã«å›ºå®šï¼ˆã“ã“ãŒè¶…é‡è¦ï¼‰ */
      background: #eee;
      position:relative;
      overflow:hidden;
    }
    .thumb img{
      width:100%;
      height:100%;
      object-fit: cover;     /* âœ… ã¯ã¿å‡ºã—ã‚’ãƒˆãƒªãƒŸãƒ³ã‚°ã—ã¦ â€œè¦‹ã‚„ã™ã•å„ªå…ˆâ€ */
      display:block;
      transform: scale(1.01);
    }

    .pill{
      position:absolute;
      left:8px; bottom:8px;
      display:inline-flex; align-items:center; gap:6px;
      padding: 7px 9px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.65);
      background: rgba(36,36,36,.42);
      color: rgba(255,255,255,.96);
      font-size: 11.5px;
      font-weight: 820;
      letter-spacing:.04em;
      box-shadow: 0 10px 22px rgba(0,0,0,.18);
      backdrop-filter: blur(6px);
    }
    .pill b{ color: #fff; font-weight: 950; }

    .body{
      padding: 10px 10px 11px;
      display:flex;
      flex-direction:column;
      gap: 6px;
    }
    .name{
      margin:0;
      font-size: 13.5px;
      font-weight: 860;
      letter-spacing:.05em;
      line-height:1.25;
    }
    .row{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
      color: var(--muted);
      font-size: 12px;
    }
    .price{
      color: rgba(36,36,36,.88);
      font-weight: 900;
      letter-spacing:.02em;
    }
    .price .yen{ color: var(--gold); }
    .mini{
      margin:0;
      font-size: 12px;
      color: rgba(36,36,36,.74);
      line-height:1.55;
      display:-webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow:hidden;
    }

    /* ===== Drinks (simple list) ===== */
    .drinkWrap{ padding: 12px; display:grid; gap:10px; }
    .drinkItem{
      background: var(--paper);
      border:1px solid var(--line);
      border-radius: 14px;
      padding: 11px 11px;
      box-shadow: 0 8px 18px rgba(0,0,0,.06);
      display:flex; justify-content:space-between; gap:10px; align-items:flex-start;
    }
    .drinkName{ margin:0; font-weight: 860; letter-spacing:.05em; font-size: 13.5px; }
    .drinkNote{ margin:6px 0 0; color: var(--muted); font-size: 12px; line-height:1.5; }
    .drinkPrice{ white-space:nowrap; font-weight: 950; color: var(--gold); }

    /* ===== Footer ===== */
    footer{
      margin-top: 14px;
      color: rgba(36,36,36,.70);
      font-size: 12px;
      line-height: 1.7;
      text-align:center;
      padding: 10px 6px 0;
    }

    /* ===== Modal (full screen, light) ===== */
    .modal{
      position:fixed;
      inset:0;
      display:none;
      z-index: 9999;
      background: rgba(20,18,16,.66);
      padding: 12px;
      padding-top: calc(12px + var(--safeT));
      padding-bottom: calc(12px + var(--safeB));
      align-items:center;
      justify-content:center;
    }
    .modal.show{ display:flex; }
    .sheet{
      width: min(920px, 100%);
      background: var(--paper);
      border-radius: 18px;
      overflow:hidden;
      box-shadow: 0 28px 90px rgba(0,0,0,.35);
      border: 1px solid rgba(255,255,255,.25);
      transform: translateY(8px);
      opacity: 0;
      transition: transform .16s ease, opacity .16s ease;
    }
    .modal.show .sheet{ transform: translateY(0); opacity: 1; }

    .sheetTop{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      padding: 11px 11px;
      background: rgba(255,255,255,.78);
      border-bottom: 1px solid var(--line);
    }
    .sheetTitle{
      margin:0;
      font-weight: 950;
      letter-spacing:.06em;
      font-size: 13.5px;
      line-height:1.25;
      display:flex; gap:10px; flex-wrap:wrap; align-items:center;
    }
    .sheetTitle .p{
      color: var(--gold);
      font-weight: 950;
    }
    .close{
      appearance:none;
      border:1px solid var(--line);
      background: rgba(255,255,255,.86);
      border-radius: 999px;
      padding: 9px 11px;
      cursor:pointer;
      font-weight: 950;
      letter-spacing:.08em;
      white-space:nowrap;
    }
    .sheetImg{
      width:100%;
      max-height: 66svh;
      object-fit: contain;
      background: #FAF7F1;
      display:block;
    }
    .sheetBody{
      padding: 12px 12px 13px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .sheetDesc{
      margin:0;
      color: rgba(36,36,36,.82);
      font-size: 13px;
      line-height:1.75;
    }
    .sheetBtns{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
    }

    /* ===== Floating top button ===== */
    .toTop{
      position: fixed;
      right: 12px;
      bottom: 12px;
      bottom: calc(12px + var(--safeB));
      z-index: 60;
      display:none;
    }
    .toTop.show{ display:block; }

    /* accessibility helper */
    .srOnly{
      position:absolute!important;
      width:1px;height:1px;
      padding:0;margin:-1px;
      overflow:hidden;clip:rect(0,0,0,0);
      white-space:nowrap;border:0;
    }
  </style>
</head>

<body>
  <div class="wrap">

    <header class="hero" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼">
      <div class="heroInner">
        <div>
          <div class="badge"><span class="dot" aria-hidden="true"></span>MENUï¼ˆç„¼ããŸã¦ï¼‰</div>
          <h1>ãŸã“ç„¼ãèœã€…ï½œãƒ¡ãƒ‹ãƒ¥ãƒ¼</h1>
          <p class="sub">ã‚¹ãƒãƒ›ã§è¦‹ã‚„ã™ã„ã€Œæ­£æ–¹å½¢ã‚µãƒ ãƒã€ã€‚å†™çœŸã¯ã‚¿ãƒƒãƒ—ã§å¤§ããè¦‹ã‚‰ã‚Œã¾ã™ã€‚</p>
        </div>
        <div class="topBtns">
          <button class="btn primary" id="btnHelp" type="button"><span aria-hidden="true">â„¹ï¸</span>è¦‹æ–¹</button>
          <a class="btn" href="#drink"><span aria-hidden="true">ğŸ¥¤</span>ãƒ‰ãƒªãƒ³ã‚¯</a>
        </div>
      </div>
    </header>

    <!-- Sticky filter/search -->
    <div class="stickyBar" aria-label="æ¤œç´¢ã¨ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼">
      <div class="barRow">
        <div class="search" role="search">
          <span aria-hidden="true">ğŸ”</span>
          <input id="q" type="search" placeholder="ä¾‹ï¼šãƒãƒ¼ã‚ºã€è¾›å£ã€å¡©â€¦" inputmode="search" />
        </div>

        <div class="chips" aria-label="ä¾¡æ ¼ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼">
          <button class="chip on" data-filter="all" type="button">å…¨éƒ¨</button>
          <button class="chip" data-filter="450" type="button">450å††</button>
          <button class="chip" data-filter="550" type="button">550å††</button>
        </div>
      </div>
    </div>

    <!-- TAKOYAKI -->
    <section class="section" aria-label="ãŸã“ç„¼ããƒ¡ãƒ‹ãƒ¥ãƒ¼">
      <div class="sectionHead">
        <div>
          <h2 class="sectionTitle">ãŸã“ç„¼ãï¼ˆ8å€‹ï¼‰</h2>
          <p class="sectionNote">ä¸€è¦§ã¯ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã€è©³ç´°ã¯ã‚¿ãƒƒãƒ—ã§å¤§ããã€‚</p>
        </div>
        <p class="sectionNote" id="countLine">â€”</p>
      </div>

      <div class="grid" id="menuGrid">
        <!-- injected -->
      </div>
    </section>

    <!-- DRINK -->
    <section class="section" id="drink" aria-label="ãƒ‰ãƒªãƒ³ã‚¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼">
      <div class="sectionHead">
        <div>
          <h2 class="sectionTitle">ãƒ‰ãƒªãƒ³ã‚¯</h2>
          <p class="sectionNote">â€»ã“ã“ã¯å†…å®¹ã‚’å¾Œã§å·®ã—æ›¿ãˆã§ãã¾ã™ã€‚</p>
        </div>
        <p class="sectionNote">ãŸã“ç„¼ãã¨ä¸€ç·’ã«ã©ã†ã</p>
      </div>

      <div class="drinkWrap">
        <!-- ä»®ã®ãƒ‰ãƒªãƒ³ã‚¯ï¼šã‚ã¨ã§å¥½ãã«å¤‰æ›´ -->
        <div class="drinkItem">
          <div>
            <p class="drinkName">ã‚³ãƒ¼ãƒ©</p>
            <p class="drinkNote">ãŸã“ç„¼ãã«åˆã†å®šç•ªã€‚</p>
          </div>
          <div class="drinkPrice">â€”</div>
        </div>

        <div class="drinkItem">
          <div>
            <p class="drinkName">ã‚¦ãƒ¼ãƒ­ãƒ³èŒ¶</p>
            <p class="drinkNote">ã•ã£ã±ã‚Šã€‚</p>
          </div>
          <div class="drinkPrice">â€”</div>
        </div>

        <div class="drinkItem">
          <div>
            <p class="drinkName">ã‚ªãƒ¬ãƒ³ã‚¸ã‚¸ãƒ¥ãƒ¼ã‚¹</p>
            <p class="drinkNote">ãŠå­ã•ã¾ã«ã‚‚ã€‚</p>
          </div>
          <div class="drinkPrice">â€”</div>
        </div>
      </div>
    </section>

    <footer>
      ãŸã“ç„¼ãèœã€…ï½œâ€»ãƒ¡ãƒ‹ãƒ¥ãƒ¼å†…å®¹ãƒ»ä¾¡æ ¼ã¯å¤‰æ›´ã«ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚æœ€æ–°ã¯åº—é ­ã§ã”ç¢ºèªãã ã•ã„ã€‚
    </footer>
  </div>

  <!-- Modal -->
  <div class="modal" id="modal" role="dialog" aria-modal="true" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼è©³ç´°">
    <div class="sheet" role="document">
      <div class="sheetTop">
        <p class="sheetTitle"><span id="mName">â€”</span> <span class="p" id="mPrice">â€”</span></p>
        <button class="close" id="mClose" type="button" aria-label="é–‰ã˜ã‚‹">é–‰ã˜ã‚‹</button>
      </div>
      <img class="sheetImg" id="mImg" alt="" />
      <div class="sheetBody">
        <p class="sheetDesc" id="mDesc">â€”</p>
        <div class="sheetBtns">
          <button class="btn" id="mCopy" type="button"><span aria-hidden="true">ğŸ“‹</span>åå‰ã‚’ã‚³ãƒ”ãƒ¼</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Floating top button -->
  <div class="toTop" id="toTop">
    <button class="btn" type="button" id="btnTop"><span aria-hidden="true">â¬†ï¸</span>ä¸Šã¸</button>
  </div>

  <script>
    (() => {
      "use strict";

      // =========================
      // ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼æä¾›URLï¼‰
      // =========================
      const MENUS = [
        { id:"ikasma", name:"ã„ã‹ã•ã¾ç„¼ã", price:null, img:"https://ul.h3z.jp/X0hNea3x.JPG", note:"ä¾¡æ ¼ã¯åº—é ­ã§ã”ç¢ºèªãã ã•ã„ã€‚" },
        { id:"teritama", name:"ã¦ã‚ŠãŸã¾", price:550, img:"https://ul.h3z.jp/S507mjUX.jpg", note:"ç”˜è¾›Ã—ã¾ã‚ã‚„ã‹ã€‚äººæ°—ã®çµ„ã¿åˆã‚ã›ã€‚" },
        { id:"negimiso", name:"ã­ãå‘³å™Œ", price:550, img:"https://ul.h3z.jp/CcWfr8d0.JPG", note:"é¦™ã°ã—ã„ã‚³ã‚¯ã€‚ã­ãã®é¦™ã‚ŠãŒç«‹ã¤ä¸€å“ã€‚" },
        { id:"shiokosho", name:"å¡©ã“ã—ã‚‡ã†", price:450, img:"https://ul.h3z.jp/SLJuBJs1.jpg", note:"ç´ æã®å‘³ãŒåˆ†ã‹ã‚‹ã€ã•ã£ã±ã‚Šç³»ã€‚" },
        { id:"suppin", name:"ã™ã£ã´ã‚“", price:null, img:"https://ul.h3z.jp/mEuk5OwJ.jpg", note:"ã‚·ãƒ³ãƒ—ãƒ«ã«ç”Ÿåœ°ã‚’å‘³ã‚ã†â€œåŸç‚¹â€ã€‚" },
        { id:"karakuchi", name:"è¾›å£ã‚½ãƒ¼ã‚¹", price:450, img:"https://ul.h3z.jp/Jit1r3Jv.JPG", note:"ãƒ”ãƒªãƒƒã¨åˆºæ¿€ã€‚è¾›å…šã«ãŠã™ã™ã‚ã€‚" },
        { id:"kakidashi", name:"ç‰¡è £ã ã—é†¤æ²¹", price:450, img:"https://ul.h3z.jp/k7J0DvPG.jpg", note:"å‡ºæ±ã®é¦™ã‚ŠãŒãµã‚ã£ã¨åºƒãŒã‚‹ã€‚" },
        { id:"sauce", name:"ã‚½ãƒ¼ã‚¹", price:450, img:"https://ul.h3z.jp/wKg45O6e.JPG", note:"å®šç•ªã€‚è¿·ã£ãŸã‚‰ã“ã‚Œã€‚" },
        { id:"agedama", name:"ã¶ã£ã‹ã‘æšã’ç‰ã‹ã‚‰ã—ãƒãƒ¨", price:550, img:"https://ul.h3z.jp/Z680luDn.JPG", note:"é£Ÿæ„Ÿæ¥½ã—ã„ã‚¬ãƒƒãƒ„ãƒªç³»ã€‚ã‚¯ã‚»ã«ãªã‚‹ã€‚" },
        { id:"shiomayopepper", name:"å¡©ãƒãƒ¨ãƒšãƒƒãƒ‘ãƒ¼", price:550, img:"https://ul.h3z.jp/hwUJtJOS.JPG", note:"ãŠã¤ã¾ã¿ã«äººæ°—ã€‚èƒ¡æ¤’ã®é¦™ã‚ŠãŒæ±ºã‚æ‰‹ã€‚" },
        { id:"cheese", name:"ãƒãƒ¼ã‚ºã‚½ãƒ¼ã‚¹ãƒãƒ¨", price:550, img:"https://ul.h3z.jp/zQvjz2vk.JPG", note:"æ¿ƒåšã§æº€è¶³åº¦é«˜ã‚ã€‚å†™çœŸæ˜ ãˆã‚‚â—" },
        { id:"mentai", name:"ã‚ã‚“ãŸã„ãƒãƒ¨", price:550, img:"https://ul.h3z.jp/bibwTWq6.JPG", note:"è¿·ã£ãŸã‚‰é¸ã°ã‚Œã‚„ã™ã„äººæ°—ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€‚" },
      ];

      // =========================
      // DOM
      // =========================
      const grid = document.getElementById("menuGrid");
      const q = document.getElementById("q");
      const chips = [...document.querySelectorAll(".chip")];
      const countLine = document.getElementById("countLine");

      const modal = document.getElementById("modal");
      const mClose = document.getElementById("mClose");
      const mName = document.getElementById("mName");
      const mPrice = document.getElementById("mPrice");
      const mImg = document.getElementById("mImg");
      const mDesc = document.getElementById("mDesc");
      const mCopy = document.getElementById("mCopy");

      const btnHelp = document.getElementById("btnHelp");
      const toTop = document.getElementById("toTop");
      const btnTop = document.getElementById("btnTop");

      let currentFilter = "all";

      // =========================
      // Render
      // =========================
      function render(){
        const keyword = (q.value || "").trim().toLowerCase();

        const list = MENUS.filter(m => {
          const hitText = (m.name + " " + (m.note||"")).toLowerCase().includes(keyword);
          const hitPrice =
            currentFilter === "all" ? true :
            currentFilter === "450" ? (m.price === 450) :
            currentFilter === "550" ? (m.price === 550) :
            true;
          return hitText && hitPrice;
        });

        countLine.textContent = `${list.length} / ${MENUS.length} ä»¶è¡¨ç¤º`;

        grid.innerHTML = list.map(m => {
          const priceText = (m.price ? `8å€‹ ${m.price}å††` : "ä¾¡æ ¼ã¯åº—é ­ã§");
          const pillPrice = (m.price ? `${m.price}å††` : "â€”");
          return `
            <article class="card" data-id="${esc(m.id)}" tabindex="0" aria-label="${esc(m.name)}ã‚’é–‹ã">
              <div class="thumb">
                <img src="${esc(m.img)}" alt="${esc(m.name)}" loading="lazy">
                <div class="pill"><b>8å€‹</b> ${esc(pillPrice)}</div>
              </div>
              <div class="body">
                <h3 class="name">${esc(m.name)}</h3>
                <div class="row">
                  <span class="price"><span class="yen">Â¥</span> ${esc(priceText)}</span>
                </div>
                <p class="mini">${esc(m.note || "")}</p>
              </div>
            </article>
          `;
        }).join("");
      }

      // =========================
      // Modal
      // =========================
      function openModal(menu){
        mName.textContent = menu.name || "â€”";
        mPrice.textContent = menu.price ? `ï¼ˆ8å€‹ ${menu.price}å††ï¼‰` : "ï¼ˆä¾¡æ ¼ã¯åº—é ­ã§ï¼‰";
        mImg.src = menu.img;
        mImg.alt = menu.name;
        mDesc.textContent = menu.note || "";

        modal.classList.add("show");
        document.body.style.overflow = "hidden";
      }
      function closeModal(){
        modal.classList.remove("show");
        document.body.style.overflow = "";
        mImg.src = "";
      }

      // =========================
      // Events
      // =========================
      grid.addEventListener("click", (e) => {
        const card = e.target.closest(".card");
        if(!card) return;
        const id = card.dataset.id;
        const menu = MENUS.find(x => x.id === id);
        if(menu) openModal(menu);
      });

      grid.addEventListener("keydown", (e) => {
        const card = e.target.closest(".card");
        if(!card) return;
        if(e.key === "Enter" || e.key === " "){
          e.preventDefault();
          const id = card.dataset.id;
          const menu = MENUS.find(x => x.id === id);
          if(menu) openModal(menu);
        }
      });

      mClose.addEventListener("click", closeModal);
      modal.addEventListener("click", (e) => { if(e.target === modal) closeModal(); });
      window.addEventListener("keydown", (e) => {
        if(e.key === "Escape" && modal.classList.contains("show")) closeModal();
      });

      q.addEventListener("input", render);

      chips.forEach(ch => {
        ch.addEventListener("click", () => {
          chips.forEach(x => x.classList.remove("on"));
          ch.classList.add("on");
          currentFilter = ch.dataset.filter;
          render();
        });
      });

      btnHelp.addEventListener("click", () => {
        alert("ä¸€è¦§ã¯è¦‹ã‚„ã™ãã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã«ã€‚å†™çœŸã¯ã‚¿ãƒƒãƒ—ã§å¤§ããè¡¨ç¤ºã§ãã¾ã™ã€‚æ¤œç´¢ãƒ»ä¾¡æ ¼ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚‚ä½¿ãˆã¾ã™ã€‚");
      });

      mCopy.addEventListener("click", async () => {
        try{
          await navigator.clipboard.writeText(mName.textContent || "");
          mCopy.textContent = "ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ";
          setTimeout(() => mCopy.innerHTML = '<span aria-hidden="true">ğŸ“‹</span>åå‰ã‚’ã‚³ãƒ”ãƒ¼', 900);
        }catch(_){
          alert("ã‚³ãƒ”ãƒ¼ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ç«¯æœ«ã®è¨­å®šã‚’ã”ç¢ºèªãã ã•ã„ã€‚");
        }
      });

      // Top button
      const onScroll = () => {
        if(window.scrollY > 500) toTop.classList.add("show");
        else toTop.classList.remove("show");
      };
      window.addEventListener("scroll", onScroll, { passive:true });
      btnTop.addEventListener("click", () => window.scrollTo({ top:0, behavior:"smooth" }));

      // Utils
      function esc(s){
        return String(s ?? "")
          .replaceAll("&","&amp;")
          .replaceAll("<","&lt;")
          .replaceAll(">","&gt;")
          .replaceAll('"',"&quot;")
          .replaceAll("'","&#39;");
      }

      // Init
      render();
      onScroll();
    })();
  </script>
</body>
</html>